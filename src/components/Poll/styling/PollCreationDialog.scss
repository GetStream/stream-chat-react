@use '../../../styling/utils';

.str-chat__poll-creation-dialog {

  .str-chat__dialog__body {
    flex: 1 1;

    form {
      display: flex;
      flex-direction: column;
      gap: var(--spacing-xl);
    }
  }

  .str-chat__form__input-field__value input,
  .str-chat__form__input-field__value.str-chat__form-text-input .str-chat__form-text-input__wrapper {
    width: 100%;
  }

  .str-chat__form__input-field__value.str-chat__form-text-input .str-chat__form-text-input__wrapper {
    background-color: transparent;
  }

  .str-chat__form__switch-field__label {
    width: 100%;
  }

  .str-chat__multiple-answers-field__votes-limit-field {
    padding-top: 0;

    .str-chat__multiple-answers-field__votes-limit-field__numeric-field {
      display: flex;
      align-items: center;
      gap: var(--spacing-md);
      width: 100%;

      .str-chat__form__switch-field__label {
        flex: 1;
      }
    }
  }
}

.str-chat__poll-creation-dialog {
  display: flex;
  flex-direction: column;
  width: min(480px, 100vw);
  height: min(640px, 100vh);

  .str-chat__form__input-field--has-error:not(:has(.str-chat__form-text-input)) {
    border: 1px solid var(--str-chat__message-error-message-color);
  }

  .str-chat__form__expandable-field .str-chat__form__input-field--has-error,
  .str-chat__form__switch-field__expanded-content .str-chat__form__input-field--has-error {
    border: none;

    .str-chat__form__input-field__value {
      border: none;
    }
  }

  .str-chat__poll-creation-dialog__features-selectors {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-sm);
    align-items: center;
  }

  .str-chat__form__expandable-field {
    padding: 1rem;
    display: flex;
    flex-direction: column;
    gap: 1rem;

    .str-chat__form__input-field {
      width: 100%;

      .str-chat__form__input-field__value {
        padding: 0;

        .str-chat__form-field-error {
          height: 1rem;
        }
      }
    }
  }

  /* Inline expanded content (same row as switch): natural width */
  .str-chat__form__switch-field__expanded-content .str-chat__form__input-field {
    width: auto;

    .str-chat__form__input-field__value {
      padding: 0;

      .str-chat__form-field-error {
        height: 1rem;
      }
    }
  }
}
